(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,a){e.exports=a(416)},242:function(e,t,a){},243:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},244:function(e,t,a){},357:function(e,t,a){},416:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(55),o=a.n(l),s=(a(242),a(243),a(244),a(245),a(42)),i=a(43),c=a(45),m=a(44),u=a(46),d=a(47),h=a(432),g=a(429),p=a(426),v=a(418),f=a(58),E=a(427),b=a(433),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).setStory=function(){if(a.state.game&&a.state.game.story){for(var e=a.state.game.story,t="",n=0,r=Object.values(e);n<r.length;n++){t+=r[n].value+" "}a.setState({story:t},function(){return console.log(a.state.story)})}},a.addToStory=function(){console.log(a.props.gameId),Object(d.addWord)(a.props.gameId,a.props.name,a.state.currentInput),a.setState({currentInput:""})},a.handleInput=function(e,t){return a.setState({currentInput:t.value})},a.state={inverted:a.props.inverted,game:{},story:"",currentInput:""},a.creating=!1,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.firebaseRef.child("games").on("value",function(t){var a=t.val();console.log(a),console.log(e.props.gameId),console.log(a[e.props.gameId]),e.setState({game:a[e.props.gameId]},e.setStory)})}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement(h.a,{inverted:this.props.inverted},r.a.createElement(g.a,null,r.a.createElement(g.a.Field,{fluid:!0},r.a.createElement(p.a,{placeholder:"Enter a word...",className:"margin",onChange:this.handleInput,value:this.state.currentInput})),r.a.createElement(v.a,{animated:!0,inverted:!0,color:"blue",onClick:this.addToStory},r.a.createElement(v.a.Content,{visible:!0},"Add"),r.a.createElement(v.a.Content,{hidden:!0},r.a.createElement(f.a,{name:"arrow right"})))),r.a.createElement("p",{style:{marginTop:"1em"}},this.state.story),r.a.createElement(E.a,{hidden:!0}),r.a.createElement(h.a,{raised:!0},r.a.createElement(b.a,{columns:2,relaxed:"very"},r.a.createElement(b.a.Column,null,r.a.createElement("p",null,"Players: "),r.a.createElement("ul",null,this.state.game&&this.state.game.users?this.state.game.users.map(function(t,a){return r.a.createElement("li",{key:a},t.name===e.props.name?t.name+" (You)":t.name)}):r.a.createElement("li",null,"None"))),r.a.createElement(b.a.Column,null,r.a.createElement("p",null,"Game id:"),r.a.createElement("ul",null,r.a.createElement("li",null,this.props.gameId)))),r.a.createElement(E.a,{vertical:!0,hidden:!0})))}}]),t}(n.Component),y=a(434),C=(a(357),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleGameId=function(e,t){return a.setState({gameId:t.value})},a.handleName=function(e,t){return a.setState({name:t.value})},a.submit=function(e){"create"==e?""!=a.state.name?a.props.setGameValues(a.state.gameId,a.state.name):alert("please enter your name"):"join"==e&&(""!=a.state.name&&""!=a.state.gameId?a.props.setGameValues(a.state.gameId,a.state.name):alert("Please enter a game id and your name"))},a.state={inverted:a.props.inverted,gameId:"",name:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{inverted:this.props.inverted},r.a.createElement(b.a,{columns:2,stackable:!0,textAlign:"center"},r.a.createElement(E.a,{vertical:!0,inverted:this.props.inverted},"Or"),r.a.createElement(b.a.Row,{verticalAlign:"middle"},r.a.createElement(b.a.Column,null,r.a.createElement(y.a,{icon:!0,inverted:this.props.inverted},r.a.createElement(f.a,{name:"search"}),"Join an Existing Game"),r.a.createElement(g.a,null,r.a.createElement(g.a.Field,{fluid:!0},r.a.createElement(p.a,{placeholder:"Enter game id",className:"margin",onChange:this.handleGameId,value:this.state.gameId})),r.a.createElement(g.a.Field,{fluid:!0},r.a.createElement(p.a,{placeholder:"Enter name",className:"margin",onChange:this.handleName,value:this.state.name})),r.a.createElement(v.a,{animated:!0,inverted:!0,color:"blue",onClick:function(){return e.submit("join")}},r.a.createElement(v.a.Content,{visible:!0},"Join"),r.a.createElement(v.a.Content,{hidden:!0},r.a.createElement(f.a,{name:"arrow right"}))))),r.a.createElement(b.a.Column,null,r.a.createElement(y.a,{icon:!0,inverted:this.props.inverted},r.a.createElement(f.a,{name:"world"}),"Create A New Game"),r.a.createElement(g.a,null,r.a.createElement(g.a.Field,{fluid:!0},r.a.createElement(p.a,{placeholder:"Enter name",className:"margin",onChange:this.handleName,value:this.state.name})),r.a.createElement(v.a,{animated:!0,inverted:!0,color:"blue",onClick:function(){return e.submit("create")}},r.a.createElement(v.a.Content,{visible:!0},"Create"),r.a.createElement(v.a.Content,{hidden:!0},r.a.createElement(f.a,{name:"arrow right"}))))))))}}]),t}(n.Component)),j=a(428),w=a(425),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleTheme=function(){return a.setState(function(e){return{inverted:!e.inverted}})},a.setGameValues=function(e,t){return a.setState({gameIdUncleaned:e,name:t},a.getGameData)},a.setGameId=function(e){return a.setState({gameId:e})},a.getGameData=function(){d.firebaseRef.child("games").once("value",function(e){var t=e.val();console.log(t),null===t||null===a.state.gameIdUncleaned||null==t[a.state.gameIdUncleaned]?a.createNewGame():a.setState({gameId:a.state.gameIdUncleaned},function(){Object(d.createUser)(a.state.gameId,a.state.name)})})},a.createNewGame=function(){Object(d.createGame)(a.state.name).then(function(e){console.log("got game id: "+e),a.setState({gameId:e})}).catch(function(e){return console.log("error: "+e)})},a.state={inverted:!1,game:null,story:"",gameId:null,name:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement(j.a,null,r.a.createElement(b.a,{verticalAlign:"middle",columns:1,style:{minHeight:"70vh"}},r.a.createElement(b.a.Column,null,null===this.state.gameId?r.a.createElement(C,{inverted:this.state.inverted,setGameValues:this.setGameValues}):r.a.createElement(I,{inverted:this.state.inverted,gameId:this.state.gameId,name:this.state.name,setGameId:this.setGameId}),r.a.createElement(w.a,{toggle:!0,onChange:this.toggleTheme,label:"Dark Mode"}))))}}]),t}(n.Component),S=a(431),k=a(430),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).refreshPage=function(){return window.location.reload()},a.openModal=function(){return a.setState({modal:!0})},a.closeModal=function(){return a.setState({modal:!1})},a.state={inverted:!1,visible:!1,modal:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){this.state.visible;return r.a.createElement("div",null,r.a.createElement(S.a,{inverted:this.state.inverted,size:"massive"},r.a.createElement(S.a.Item,{name:"Story Mania",onClick:this.refreshPage}),r.a.createElement(S.a.Menu,{position:"right"},r.a.createElement(S.a.Item,{name:"About",onClick:this.openModal},r.a.createElement(f.a,{name:"info circle"})))),r.a.createElement(k.a,{open:this.state.modal,onClose:this.closeModal},r.a.createElement(k.a.Header,null,"About this game"),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Description,null,r.a.createElement(y.a,null,"Story Mania"),r.a.createElement("p",null,"asdfasdfadsf")))))}}]),t}(n.Component);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){var n=a(246);n.initializeApp({apiKey:"AIzaSyBVvoERxcerBb6M4lh2C3D-rZeYIKZUvjw",authDomain:"react-game-78498.firebaseapp.com",databaseURL:"https://react-game-78498.firebaseio.com",projectId:"react-game-78498",storageBucket:"react-game-78498.appspot.com",messagingSenderId:"976787720562",appId:"1:976787720562:web:2371c16988082bed"});var r=n.database().ref();t.firebaseRef=r,t.pushToFirebase=function(e,t){console.log(e.query),r.child("todos").push().set(e.query.item),t.send("success")},t.createGame=function(e){return new Promise(function(t,a){return t(r.child("games").push({players:1,turn:0,users:{0:{name:e}}},function(e){e&&a("error: "+e)}).key)})},t.createUser=function(e,t){var a="games/"+e;r.child(a+"/players").once("value").then(function(e){console.log(e.val());var n=e.val(),l=parseInt(n)+1;return r.child(a+"/players").set(l,function(e){if(e)return"error: "+e}),r.child(a+"/users/"+l).set({name:t},function(e){if(e)return"error: "+e}),""+l}).catch(function(e){console.error("Firebase error:",e.message)})},t.addWord=function(e,t,a){var n="games/"+e+"/story";return r.child(n).push({value:a,user:t}),"success"},t.getGame=function(e){return new Promise(function(t,a){var r="games/"+e;n.database().ref(r).once("value").then(function(e){t(e.val())}).catch(function(e){console.error("Firebase error:",e.message),a(e)})})}}},[[237,1,2]]]);
//# sourceMappingURL=main.29851db8.chunk.js.map